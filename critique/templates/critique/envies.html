{% extends "critique/base.html" %}
{% load staticfiles %}

{% block title %}envies{% endblock %}
{% block meta-description-page %}liste d'envies{% endblock %}

{% block content %}

<ul id="media-bar" class="navbar subbar">
    <li><a desc="film" href={% url "list_envies" "film" %}>films</a></li>
    <li><a desc="serie" href={% url "list_envies" "serie" %}>s√©ries</a></li>
    <li><a desc="album" href={% url "list_envies" "album" %}>musique</a></li>
    <li><a desc="jeu" href={% url "list_envies" "jeu" %}>jeux</a></li>
    <li><a desc="livre" href={% url "list_envies" "livre" %}>livres</a></li>
    <!-- <li><a href={% url "list_envies" "bd" %}>bd</a></li> -->
</ul>

<ul class="oeuvres_display">
{% for oeuvre in oeuvres %}
    <li class="oeuvre_display">
        <a href={% url "detail_oeuvre" oeuvre.id %}>
        {% if oeuvre.info.image_url %}
            <img src="{% static oeuvre.info.image_url %}" alt="{{ oeuvre.info.titles.vf }}" />
        {% else %}
            <div class="substitute_display">
                <img src="{% static 'critique/substitute.jpg' %}" alt="{{ oeuvre.info.titles.vf }}" />
                <p>{{ oeuvre.info.titles.vf }} ({{ oeuvre.info.year }})</p>
            </div>
        {% endif %}</a>
    </li>
{% endfor %}
</ul>


<div id="pagination">
    {% if oeuvres.has_previous %}
        <a href={% url "list_envies" mtype oeuvres.previous_page_number %}><-</a>
    {% endif %}

    <span class="current">
        page {{ oeuvres.number }} sur {{ oeuvres.paginator.num_pages }}
    </span>

    {% if oeuvres.has_next %}
        <a href={% url "list_envies" mtype oeuvres.next_page_number %}>-></a>
    {% endif %}
</div>
    
<script type="text/javascript">
    var previous_page_url = null;
    {% if oeuvres.has_previous %}
    previous_page_url = '{% url "list_envies" mtype oeuvres.previous_page_number %}';
    {% endif %}
    var next_page_url = null;
    {% if oeuvres.has_next %}
    next_page_url = '{% url "list_envies" mtype oeuvres.next_page_number %}';
    {% endif %}
</script>

{% endblock %}
